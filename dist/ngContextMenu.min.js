(function(){angular.module("ngContextMenu",[]).directive("contextmenu",["$compile","$document",function(e,t){var n;return n=function(e,t,n){return e[t]||"boolean"==typeof e[t]?void 0:e[t]=n},{restrict:"A",scope:{menuList:"=",clickMenu:"&",rightClick:"&",onMenuClose:"&",options:"=?",align:"@"},link:function(o,i,l){var c,u,s,r;return r='<div class="ng-context-menu"> <ul class="dropdown-menu" role="menu"> <li ng-click="clickItem(item, $event)" ng-repeat="item in menu"> <hr ng-if="item.type==\'hr\'"  /> <a href="javascript:void(0)" ng-if="item.type!=\'hr\'">{{item[options.itemLabel]}}</a> </li> </ul> </div>',o.options=o.options||{},n(o.options,"itemLabel","name"),n(o.options,"isMultiple",!0),o.menu=o.menuList,o.dropmenu=c=e(r)(o),i.append(c),i.bind("contextmenu",function(e){return e.preventDefault(),setTimeout(function(){var t,n,i,l;switch(o.rightClick&&o.rightClick({$event:e}),c.addClass("open"),t=c[0].offsetHeight,n=c[0].offsetWidth,o.align=o.align||"lt",o.align){case"lt":l=e.clientY,i=e.clientX;break;case"lb":l=e.clientY-t,i=e.clientX;break;case"rt":l=e.clientY,i=e.clientX-n;break;case"rb":l=e.clientY-t,i=e.clientX-n}return s(c,{top:l,left:i})},0)}),t.bind("contextmenu",function(e){return!o.options.isMultiple&&c.hasClass("open")?u():void 0}),t.bind("click",function(e){return 0===e.button&&c.hasClass("open")&&(u(),o.onMenuClose)?o.onMenuClose():void 0}),o.clickItem=function(e,t){return o.clickMenu?o.clickMenu({item:e,$event:t}):void 0},o.$on("updateDone",function(e,t){return u()}),u=function(){return c.css({top:0,left:0}),c.removeClass("open")},s=function(e,t){var n,o,i,l,c,u,r,a,p,f,d;return i=e[0],t?(o=i.style.top||getComputedStyle(i).top,n=i.style.left||getComputedStyle(i).left,c=s(e),p=window.pageXOffset||i.scrollLeft,f=window.pageYOffset||i.scrollTop,(o+n).indexOf("auto")>-1?(u=i.offsetTop,l=i.offsetLeft):(u=parseFloat(o)||0,l=parseFloat(n)||0),r=p+t.left-c.left+l,d=f+t.top-c.top+u,void e.css({top:d+"px",left:r+"px"})):(a=i.getBoundingClientRect(),{top:a.top+document.body.scrollTop,left:a.left+document.body.scrollLeft})}}}}])}).call(this);